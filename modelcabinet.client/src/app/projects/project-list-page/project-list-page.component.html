<!-- Loading Spinner (Show while loading) -->
<div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p class="loading-text">Loading projects...</p>
</div>

<!-- Project List (Only show when loaded) -->
<div *ngIf="!loading">
    <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4">
            <div class="col card bg-primary-subtle p-2 text-center"
                 *ngFor="let ProjectItem of (projects$ | async)">
                <span class="h2 fw-bold text-center">{{ ProjectItem.name }}</span>
                <span>{{ ProjectItem.shortDescription }}</span>
                <span>
                    <b>Last Modified:</b><br />
                    <span class="h5">{{ ProjectItem.modifiedDate | date:'short' }}</span>
                </span>
                <span>
                    <b>Author:</b><br />
                    <span class="h5">{{ ProjectItem.author }}</span>
                </span>
                <b class="col">Tags:</b>
                <div class="row row-cols-auto justify-content-md-center">
                    <app-tag-label class="col"
                                   *ngFor="let projectTag of ProjectItem.projectTags"
                                   [tagLabel]="projectTag.tag">
                    </app-tag-label>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <a routerLink="{{ ProjectItem.projectId }}"
                           class="card-link btn btn-primary">
                            View Project
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination Controls -->
    <div class="row mt-4">
        <div class="col text-center">
            <button class="btn btn-primary me-2"
                    (click)="previousPage()"
                    [disabled]="(currentPage$ | async) === 1">
                Previous
            </button>
            <span class="mx-3">
                Page {{currentPage$ | async}}
            </span>
            <button class="btn btn-primary ms-2"
                    (click)="nextPage()"
                    [disabled]="(currentPage$ | async) === (totalPages$ | async)">
                Next
            </button>
        </div>
    </div>
</div>
